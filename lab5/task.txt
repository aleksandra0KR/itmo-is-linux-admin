# 1
useradd user-84
systemctl set-property user-84.slice CPUQuota=70%

#2
apt install cgroup-tools
cgcreate -g memory:/memory_limit
cgset -r memory.max=1340M memory_limit
cgexec -g memory:memory_limit tail /dev/zero

#3
cgcreate -g io:/backup_limits
cgset -r io.max="8:0 riops=1840 wiops=1340" backup_limits
cgexec -g io:backup_limits dd if=/dev/zero of=/tmp/test_file bs=4k count=10000 oflag=direct
  5.5 MB/s
cgexec -g io:backup_limits dd if=/tmp/test_file of=/dev/null bs=4k count=10000 iflag=direct
  7.5 MB/s

#4
cgcreate -g cpuset:/cpu_set
cgset -r cpuset.cpus=0 cpu_set
(cgexec -g cpuset:cpu_set top)&
    520
taskset -p 520
  pid 520's current affinity mask: 1

#5


#6
unshare -u bash
hostname isolated-student-84
hostname
  isolated-student-84

#7
unshare --pid --fork bash
mount -t proc proc /proc
ps aux # Показывает только 2-3 процесса (например, bash, ps).
ps aux # (в новом терминале) Показывает все процессы хоста.

#8
unshare --mount bash
mkdir /tmp/private_$(whoami)
mount -t tmpfs tmpfs /tmp/private_$(whoami)
df -h | grep private_$(whoami) 
  tmpfs           481M     0  481M   0% /tmp/private_root
df -h | grep private_$(whoami) # в новом терминале
  <>

#9
unshare --net bash
ip addr 
ping google.com
  ping: google.com: Временный сбой в разрешении имен

ping google.com # в новом терминале
  ping google.com (142.250.187.142) 56(84) bytes of data.
  ^C
  --- google.com ping statistics ---
  2 packets transmitted, 1 received, 50% packet loss, time 1002ms
  rtt min/avg/max/mdev = 9.306/10.761/12.214/1.454 ms

#10


